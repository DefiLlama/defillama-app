@import 'tailwindcss';
@plugin '@tailwindcss/typography';

@custom-variant dark (&:where(.dark, .dark *));

@theme {
	--font-inter: Inter var, 'Inter-fallback', sans-serif;
	--font-jetbrains: JetBrains Mono, monospace;

	--color-pro-purple-100: oklch(0.935 0.02 286); /* Grayish/off-white */
	--color-pro-purple-200: oklch(0.78 0.12 283.45); /* Muted purple */
	--color-pro-purple-300: oklch(0.612 0.213 278.1); /* Vibrant purple */
	--color-pro-purple-400: oklch(0.41 0.13 279.09); /* Deep purple */

	--color-pro-blue-100: oklch(0.935 0.02 257); /* Light blue/gray */
	--color-pro-blue-200: oklch(0.78 0.12 257); /* Muted blue */
	--color-pro-blue-300: oklch(0.612 0.213 257); /* Vibrant blue */
	--color-pro-blue-400: oklch(0.41 0.13 257); /* Deep blue */

	--color-pro-green-100: oklch(0.935 0.02 143); /* Light green/gray */
	--color-pro-green-200: oklch(0.78 0.12 143); /* Muted green */
	--color-pro-green-300: oklch(0.612 0.213 143); /* Vibrant green */
	--color-pro-green-400: oklch(0.41 0.13 143); /* Deep green */

	--color-pro-gold-100: oklch(0.94 0.01 71.72); /* Light version of pro-gold-400 */
	--color-pro-gold-200: oklch(0.78 0.08 60); /* Medium gold */
	--color-pro-gold-300: oklch(0.612 0.15 60); /* Vibrant gold */
	--color-pro-gold-400: oklch(0.41 0.12 60); /* Deep gold */

	--animate-loader: loader 800ms linear infinite;
	--animate-wiggle: wiggle 300ms ease-out;
	--animate-slidein: slidein 300ms ease-out;
	--animate-slideup: slideup 300ms ease-out;
	--animate-linebeat: linebeat 1s ease-in-out infinite alternate;
	--animate-ai-glow: ai-glow 3s ease-in-out infinite;

	@keyframes loader {
		0% {
			transform: scale(1);
		}
		60% {
			transform: scale(1.1);
		}
		100% {
			transform: scale(1);
		}
	}
	@keyframes wiggle {
		0% {
			transform: rotate(10deg);
		}
		50% {
			transform: rotate(-10deg);
		}
		100% {
			transform: rotate(0);
		}
	}
	@keyframes slidein {
		0% {
			opacity: 1;
			right: -100%;
		}
		100% {
			opacity: 1;
			right: 0%;
		}
	}
	@keyframes slideup {
		0% {
			opacity: 0;
			transform: translateY(100%);
		}
		100% {
			opacity: 1;
			transform: translateY(0%);
		}
	}
	@keyframes linebeat {
		0% {
			left: 0;
			border-top-left-radius: 8px;
			border-top-right-radius: 0;
		}
		50% {
			border-radius: 8px;
		}
		100% {
			left: calc(100% - 30%);
			border-top-left-radius: 0;
			border-top-right-radius: 8px;
		}
	}
	@keyframes ai-glow {
		0%,
		100% {
			box-shadow:
				0 0 4px rgba(91, 133, 255, 0.2),
				0 0 8px rgba(91, 133, 255, 0.15),
				0 0 12px rgba(91, 133, 255, 0.1);
		}
		50% {
			box-shadow:
				0 0 8px rgba(91, 133, 255, 0.3),
				0 0 16px rgba(91, 133, 255, 0.2),
				0 0 20px rgba(91, 133, 255, 0.15);
		}
	}
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
	*,
	::after,
	::before,
	::backdrop,
	::file-selector-button {
		border-color: var(--color-gray-200, currentcolor);
	}
}

@utility no-scrollbar {
	scrollbar-width: none;
	&::-webkit-scrollbar {
		display: none;
	}
}

@utility thin-scrollbar {
	scrollbar-width: thin;
	scrollbar-color: var(--bg-border) transparent;
	&::-webkit-scrollbar {
		width: 6px;
		height: 6px;
	}
	&::-webkit-scrollbar-track {
		background: transparent;
	}
	&::-webkit-scrollbar-thumb {
		background: var(--bg-border);
		border-radius: 3px;
	}
	&::-webkit-scrollbar-thumb:hover {
		background: var(--bg-muted);
	}
}

@utility dialog {
	@apply fixed inset-(--inset) top-0 right-0 bottom-0 left-0 z-50 m-auto mb-0 flex max-h-[70dvh] min-h-[40dvh] w-full max-w-full flex-col gap-8 overflow-auto rounded-t-md border-[#39393E] bg-(--app-bg) p-4 sm:mb-auto sm:h-fit sm:max-h-[calc(100%-32px)] sm:min-h-[initial] sm:max-w-[min(calc(100%-32px),560px)] sm:rounded-md dark:border;
}

@utility drawer {
	opacity: 0;
	transform: translateY(100%);
	transition: 0.2s ease-out;

	&[data-enter] {
		opacity: 1;
		transform: translateY(0%);
	}

	&[data-leave] {
		transition: 0.1s ease-out;
	}
}

@utility drawer-to-left {
	opacity: 0;
	transform: translateX(100%);
	transition: 0.2s ease-out;

	&[data-enter] {
		opacity: 1;
		transform: translateX(0%);
	}

	&[data-leave] {
		transition: 0.1s ease-out;
	}
}

@utility pro-dashboard {
	--pro-text1: #0a0a0a;
	--pro-text2: #2d2d2d;
	--pro-text3: #4a4a4a;

	--pro-bg1: #ffffff;
	--pro-bg2: #f0f0f0;
	--pro-bg3: #e0e0e0;
	--pro-bg4: #cccccc;
	--pro-bg7: rgba(255, 255, 255, 0.95);
	--pro-bg8: rgba(35, 91, 255, 0.1);
	--pro-input-bg: rgba(35, 91, 255, 0.06);

	--pro-divider: rgba(0, 0, 0, 0.3);
	--pro-border: rgba(0, 0, 0, 0.3);
	--pro-glass-border: rgba(0, 0, 0, 0.3);

	html.dark & {
		--pro-text1: var(--text-primary);
		--pro-text2: var(--text-secondary);
		--pro-text3: var(--text-tertiary);

		--pro-bg1: #070e0f;
		--pro-bg2: #0a1011;
		--pro-bg3: #0d1516;
		--pro-bg4: #101a1c;
		--pro-bg7: rgba(7, 14, 15, 0.7);
		--pro-bg8: rgba(35, 91, 255, 0.1);
		--pro-input-bg: rgba(35, 91, 255, 0.12);

		--pro-divider: rgba(255, 255, 255, 0.1);
		--pro-border: rgba(255, 255, 255, 0.2);
		--pro-glass-border: rgba(255, 255, 255, 0.3);
	}

	& .pro-text1 {
		color: var(--pro-text1);
	}
	& .pro-text2 {
		color: var(--pro-text2);
	}
	& .pro-text3 {
		color: var(--pro-text3);
	}

	& .pro-bg1 {
		background-color: var(--pro-bg1);
	}
	& .pro-bg2 {
		background-color: var(--pro-bg2);
	}
	& .pro-bg3 {
		background-color: var(--pro-bg3);
	}
	& .pro-bg7 {
		background-color: var(--pro-bg7);
	}
	& .pro-input-bg {
		background-color: var(--pro-input-bg);
	}
	/* & .pro-bg8 {
		background-color: var(--pro-bg8);
	} */
	/* & .pro-bg8:hover {
		background-color: rgba(17, 30, 78, 0.25);
	} */

	& .pro-border {
		border-color: var(--pro-border);
	}
	& .pro-divider {
		border-color: var(--pro-divider);
	}

	& .pro-glass {
		background-color: var(--pro-bg7);
		backdrop-filter: blur(10px);
		-webkit-backdrop-filter: blur(10px);
		border: 1px solid var(--pro-glass-border);
	}

	& .pro-hover-bg:hover {
		background-color: var(--pro-bg3);
	}
}

@utility dark {
	&html .pro-dashboard {
		--pro-text1: var(--text-primary);
		--pro-text2: var(--text-secondary);
		--pro-text3: var(--text-tertiary);

		--pro-bg1: #070e0f;
		--pro-bg2: #0a1011;
		--pro-bg3: #0d1516;
		--pro-bg4: #101a1c;
		--pro-bg7: rgba(7, 14, 15, 0.7);

		--pro-divider: rgba(255, 255, 255, 0.1);
		--pro-border: rgba(255, 255, 255, 0.2);
		--pro-glass-border: rgba(255, 255, 255, 0.3);
	}
}

@utility pro-text1 {
	.pro-dashboard & {
		color: var(--pro-text1);
	}
}

@utility pro-text2 {
	.pro-dashboard & {
		color: var(--pro-text2);
	}
}

@utility pro-text3 {
	.pro-dashboard & {
		color: var(--pro-text3);
	}
}

@utility pro-bg1 {
	.pro-dashboard & {
		background-color: var(--pro-bg1);
	}
}

@utility pro-bg2 {
	.pro-dashboard & {
		background-color: var(--pro-bg2);
	}
}

@utility pro-bg3 {
	.pro-dashboard & {
		background-color: var(--pro-bg3);
	}
}

@utility pro-bg7 {
	.pro-dashboard & {
		background-color: var(--pro-bg7);
	}
}

@utility pro-input-bg {
	.pro-dashboard & {
		background-color: var(--pro-input-bg);
	}
}

@utility pro-border {
	.pro-dashboard & {
		border-color: var(--pro-border);
	}
}

@utility pro-divider {
	.pro-dashboard & {
		border-color: var(--pro-divider);
	}
}

@utility pro-glass {
	.pro-dashboard & {
		background-color: var(--pro-bg7);
		backdrop-filter: blur(10px);
		-webkit-backdrop-filter: blur(10px);
		border: 1px solid var(--pro-glass-border);
	}
}

@utility pro-hover-bg {
	.pro-dashboard &:hover {
		background-color: var(--pro-bg3);
	}
}

@utility pro-info-card {
	.pro-dashboard & {
		border-radius: 0.3rem;
		background-image: linear-gradient(to top, rgba(35, 91, 255, 0), rgba(35, 91, 255, 0.15));
	}
	.pro-dashboard &:hover {
		background-color: rgba(17, 30, 78, 0.25);
	}
}

@utility pro-btn-purple {
	@apply bg-pro-purple-100 text-pro-purple-400 hover:bg-pro-purple-300/20 focus-visible:bg-pro-purple-300/20 dark:bg-pro-purple-300/20 dark:text-pro-purple-200 hover:dark:bg-pro-purple-300/30 focus-visible:dark:bg-pro-purple-300/30;
}

@utility pro-btn-purple-outline {
	@apply border-pro-purple-100 text-pro-purple-400 hover:bg-pro-purple-300/20 focus-visible:bg-pro-purple-300/20 dark:border-pro-purple-300/20 dark:text-pro-purple-200 hover:dark:bg-pro-purple-300/30 focus-visible:dark:bg-pro-purple-300/30 border;
}

@utility pro-btn-blue {
	@apply bg-pro-blue-100 text-pro-blue-400 hover:bg-pro-blue-300/20 focus-visible:bg-pro-blue-300/20 dark:bg-pro-blue-300/20 dark:text-pro-blue-200 hover:dark:bg-pro-blue-300/30 focus-visible:dark:bg-pro-blue-300/30;
}

@utility pro-btn-blue-outline {
	@apply border-pro-blue-100 text-pro-blue-400 hover:bg-pro-blue-300/20 focus-visible:bg-pro-blue-300/20 dark:border-pro-blue-300/20 dark:text-pro-blue-200 hover:dark:bg-pro-blue-300/30 focus-visible:dark:bg-pro-blue-300/30 border;
}

.metrics-gradient-border {
	position: relative !important;
	border-radius: 6px !important;
}

.metrics-gradient-border::before {
	content: '';
	position: absolute;
	top: -1px;
	left: -1px;
	right: -1px;
	bottom: -1px;
	border-radius: 6px;
	background: linear-gradient(90deg, #1f67d2 0%, #1f67d2 8%, #e6e6e6 18%, #e6e6e6 82%, #1f67d2 92%, #1f67d2 100%);
	z-index: -1;
}

/* Modern browsers with mask support */
@supports (mask: linear-gradient(#fff 0 0)) {
	.metrics-gradient-border::before {
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		padding: 1px;
		mask:
			linear-gradient(#fff 0 0) content-box,
			linear-gradient(#fff 0 0);
		mask-composite: xor;
		-webkit-mask:
			linear-gradient(#fff 0 0) content-box,
			linear-gradient(#fff 0 0);
		-webkit-mask-composite: xor;
	}
}

.dark .metrics-gradient-border::before {
	background: linear-gradient(90deg, #1f67d2 0%, #1f67d2 8%, #222324 18%, #222324 82%, #1f67d2 92%, #1f67d2 100%);
}
.message-sent::before {
	content: '';
	width: 0px;
	height: 0px;
	position: absolute;
	border-left: 6px solid #ececec;
	border-right: 6px solid transparent;
	border-top: 6px solid #ececec;
	border-bottom: 6px solid transparent;
	right: -6px;
	top: 0;
}

.dark .message-sent::before {
	border-left: 6px solid #222425;
	border-top: 6px solid #222425;
}

@layer base {
	@font-face {
		font-family: 'Inter-fallback';
		size-adjust: 107%;
		src: local('Arial');
	}

	@font-face {
		font-family: 'Inter var';
		font-style: normal;
		font-weight: 100 900;
		font-display: swap;
		src: url('/fonts/inter.woff2') format('woff2');
	}

	@font-face {
		font-family: 'JetBrains Mono';
		font-style: normal;
		font-weight: 800;
		font-display: swap;
		src: url('/fonts/jetbrains.ttf') format('truetype');
	}

	:root {
		/* Text Colors */
		--text-primary: oklch(0.239 0 0); /* Main text */
		--text-secondary: oklch(0.47 0.025 273.6); /* Secondary text */
		--text-tertiary: oklch(0.644 0.022 270.1); /* Tertiary text */
		--text-form: oklch(0.45 0 0); /* Form controls & buttons */
		--text-label: oklch(0.4 0 0); /* Labels & descriptions */
		--text-meta: oklch(0.556 0 0); /* Metadata & governance */
		--text-disabled: oklch(0.56 0 0); /* Disabled text */

		/* Background Colors */
		--bg-main: oklch(0.985 0 0); /* Main background */
		--bg-secondary: oklch(0.979 0.003 264.5); /* Secondary background */
		--bg-tertiary: oklch(0.949 0.005 275); /* Tertiary background */
		--bg-border: oklch(0.859 0.013 276.1); /* Border background */
		--bg-muted: oklch(0.644 0.022 270.1); /* Muted background */
		--bg-card: oklch(1 0 0); /* Card background */
		--bg-glass: oklch(0.991 0.001 106.4); /* Glass background */
		--bg-input: oklch(0.95 0 0); /* Input/form background */

		/* Brand Colors */
		--primary: oklch(0.527 0.178 269.6);
		--primary-hover: oklch(0.527 0.178 269.6 / 0.2);

		/* Utility Colors */
		--divider: oklch(0.289 0 0 / 0.035);
		--link: oklch(0.558 0.165 257.8);
		--blue: oklch(0.609 0.182 257.3);
		--dlnews: oklch(0.241 0.056 240.6);
		--apy-pink: oklch(0.673 0.237 356.7);
		--apy-blue: oklch(0.65 0.152 257.5);

		/* Link Colors */
		--link-bg: oklch(0.953 0.015 257.2);
		--link-hover-bg: oklch(0.905 0.034 265.2);
		--link-text: oklch(0.535 0.179 258.6); /* should be oklch(0.535 0.179 258.6) */
		--link-active-bg: oklch(0.535 0.179 258.6);

		/* Button Colors */
		--btn-bg: oklch(0.937 0 0);
		--btn-hover-bg: oklch(0.952 0 0);
		--btn2-bg: oklch(0.527 0.178 269.6 / 0.1);
		--btn2-hover-bg: oklch(0.571 0.191 258.5 / 0.2);
		--btn2-text: oklch(0.527 0.178 269.6);
		--switch-bg: oklch(0.533 0.18 259 / 0.25);
		--switch-border: oklch(0.533 0.18 259 / 0.5);
		--link-button: oklch(0.533 0.18 259 / 0.12);
		--link-button-hover: oklch(0.533 0.18 259 / 0.24);

		/* Status Colors */
		--success: oklch(0.549 0.181 143.4);
		--error: oklch(0.584 0.236 29.6);
		--warning: oklch(0.666 0.157 58.3);

		/* Layout Colors */
		--app-bg: oklch(0.976 0 0);
		--cards-bg: oklch(1 0.001 106.4);
		--cards-border: oklch(0.9 0 0);
		--form-control-border: oklch(0.9 0 0);
		--old-blue: oklch(0.533 0.18 259);

		/* Dimensions */
		--nav-width: 244px; /* Navigation sidebar */
	}

	* {
		min-width: 0;
		text-wrap: pretty;
	}

	html {
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		-webkit-tap-highlight-color: rgba(0, 0, 0, 0);
	}

	html.dark {
		/* Text Colors */
		--text-primary: oklch(0.985 0 0); /* Main text */
		--text-secondary: oklch(0.824 0.009 271.3); /* Secondary text */
		--text-tertiary: oklch(0.553 0.029 270.9); /* Tertiary text */
		--text-form: oklch(0.75 0 0); /* Form controls & buttons */
		--text-label: oklch(0.845 0 0); /* Labels & descriptions */
		--text-meta: oklch(0.735 0 0); /* Metadata & governance */
		--text-disabled: oklch(0.65 0 0); /* Disabled text */

		/* Background Colors */
		--bg-main: oklch(0.259 0.01 260.7); /* Main background */
		--bg-secondary: oklch(0.305 0.013 267.1); /* Secondary background */
		--bg-tertiary: oklch(0.387 0.019 269.6); /* Tertiary background */
		--bg-border: oklch(0.47 0.025 273.6); /* Border background */
		--bg-muted: oklch(0.47 0.025 273.6); /* Muted background */
		--bg-card: oklch(0 0 0); /* Card background */
		--bg-glass: oklch(0.157 0.012 206.6 / 0.7); /* Glass background */
		--bg-surface: oklch(0.21 0.008 274.5); /* Surface background */
		--bg-input: oklch(0.292 0.005 248); /* Input/form background */

		/* Brand Colors */
		--primary: oklch(0.571 0.191 258.5);
		--primary-hover: oklch(0.571 0.191 258.5 / 0.2);

		/* Utility Colors */
		--divider: oklch(0.289 0 0 / 0.435);
		--link: oklch(0.642 0.193 258);
		--dlnews: oklch(1 0 0);

		/* Link Colors */
		--link-bg: oklch(0.228 0.027 255.8);
		--link-hover-bg: oklch(0.27 0.038 256.7);
		--link-text: oklch(0.699 0.141 256.9);

		/* Button Colors */
		--btn-bg: oklch(0.261 0.012 270.9);
		--btn-hover-bg: oklch(0.286 0.013 272.9);
		--btn2-bg: oklch(0.571 0.191 258.5 / 0.1);
		--btn2-hover-bg: oklch(0.571 0.191 258.5 / 0.2);
		--btn2-text: oklch(0.571 0.191 258.5);

		/* Status Colors */
		--success: oklch(0.692 0.181 145.5);
		--error: oklch(0.621 0.19 27.1);
		--warning: oklch(0.82 0.147 81.2);

		/* Layout Colors */
		--app-bg: oklch(0.148 0.004 228.8);
		--cards-bg: oklch(0.194 0.004 229);
		--cards-border: oklch(0.255 0.002 247.9);
		--form-control-border: oklch(0.318 0.008 240.1);
		--old-blue: oklch(0.571 0.191 258.5);
	}

	body {
		@apply font-inter bg-(--app-bg) text-sm text-black dark:text-white;
	}

	#__next,
	#__next > [data-rk] {
		@apply relative isolate flex min-h-full w-full flex-col lg:flex-row;
	}

	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		@apply text-balance;
	}

	button {
		@apply pointer-events-auto cursor-pointer touch-none select-none disabled:cursor-not-allowed;
	}

	a,
	input,
	textarea,
	select {
		@apply disabled:cursor-not-allowed;
	}

	/* Prevent zoom on iOS Safari for form elements */
	input,
	textarea {
		@apply text-sm placeholder:text-sm max-sm:text-base;
	}

	input,
	textarea,
	select {
		@apply rounded-none text-inherit;
	}

	/* Dark mode calendar picker indicator */
	html.dark input[type='date']::-webkit-calendar-picker-indicator {
		filter: invert(1) brightness(0.8) contrast(0.8);
	}

	img,
	picture,
	video,
	canvas,
	svg {
		@apply block max-w-full;
	}

	details {
		@apply select-none;
	}

	details summary::-webkit-details-marker {
		@apply hidden;
	}

	summary {
		@apply cursor-pointer list-none;
	}

	#table-header {
		scrollbar-width: none; /* Firefox */
	}
	#table-header::-webkit-scrollbar {
		display: none; /* Safari and Chrome */
	}

	hr {
		@apply border-black/20 dark:border-white/20;
	}
}

@layer components {
	[data-backdrop] {
		@apply bg-black/40 dark:bg-black/70;
	}

	#fees-generated-chart > div > div > svg > g > image {
		clip-path: inset(0% round 50%);
	}

	.llama-app-background {
		position: absolute;
		top: 0;
		bottom: 0;
		left: 0;
		height: 3rem;
		width: 3rem;
		overflow: hidden;
		background-color: #5c5cf9;
		opacity: 0.6;
		transform: translate3d(0px, 0px, 0px);
	}

	/* Modern browsers with blur support */
	@supports (filter: blur(1px)) {
		.llama-app-background {
			filter: blur(32px);
			-webkit-filter: blur(32px);
			opacity: 1;
		}
	}

	.highlighted-text .highlight {
		@apply bg-(--link-bg) text-(--link-text);
	}
}

@keyframes slideInRight {
	from {
		transform: translateX(-100%);
		opacity: 0;
	}
	to {
		transform: translateX(0);
		opacity: 1;
	}
}

@keyframes shrinkToRight {
	from {
		transform: scaleX(1.1);
		transform-origin: right;
	}
	to {
		transform: scaleX(1);
		transform-origin: right;
	}
}
