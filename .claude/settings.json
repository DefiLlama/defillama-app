{
    "hooks": {
      "PreToolUse": [
        {
          "matcher": "Bash",
          "hooks": [
            {
              "type": "command",
              "command": "node -e \"const input = JSON.parse(require('fs').readFileSync('/dev/stdin', 'utf8')); const cmd = input.toolInput?.command || ''; if (/\\b(npm|npx|yarn|pnpm)\\s+(run\\s+)?(build|compile|tsc)\\b/i.test(cmd) || /\\bnpx\\s+(run\\s+)?typescript\\b/i.test(cmd)) { console.log(JSON.stringify({decision: 'block', reason: 'Use bun instead. For TypeScript: bun run ts. Build commands are disabled due to rate limits.'})); } else if (/\\b(npm|npx|yarn|pnpm)\\s+run\\s+/i.test(cmd)) { console.log(JSON.stringify({decision: 'block', reason: 'Use bun run instead of npm/npx/yarn/pnpm run'})); } else { console.log(JSON.stringify({decision: 'approve'})); }\""
            }
          ]
        }
      ],
      "PostToolUse": [
        {
          "matcher": "Write|Edit|MultiEdit",
          "hooks": [
            {
              "type": "command",
              "command": "bun run format"
            }
          ]
        }
      ]
    },
    "permissions": {
      "allow": [
        "Bash(bun run lint)",
        "Bash(bun run ts)",
        "Bash(bun run format)",
        "Bash(bun run lint:*)",
        "Bash(bun run ts:*)",
        "Bash(bun run format:*)"
      ],
      "deny": [
        "Bash(npm run build*)",
        "Bash(npx run build*)",
        "Bash(yarn run build*)",
        "Bash(pnpm run build*)",
        "Bash(bun run build*)",
        "Bash(npm run compile*)",
        "Bash(npx run typescript*)",
        "Bash(npx typescript*)",
        "Bash(tsc*)"
      ]
    }
  }